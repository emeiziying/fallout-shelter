import { GameState } from '../types';

export const initialGameState: GameState = {
  resources: {
    food: 100,
    water: 80,
    power: 50,
    materials: 200,
    components: 30,
    chemicals: 5,
    money: 500,
    research: 0,
  },
  resourcesPerSecond: {
    food: 0,
    water: 0,
    power: 0,
    materials: 0,
    components: 0,
    chemicals: 0,
    money: 0,
    research: 0,
  },
  resourceLimits: {
    food: 500,
    water: 300,
    power: 200,
    materials: 1000,
    components: 100,
    chemicals: 50,
    money: 10000,
    research: 1000,
  },
  residents: [
    {
      id: 'resident_1',
      name: '张伟博士',
      skills: {
        engineering: 8,
        medical: 3,
        combat: 4,
        exploration: 5,
        research: 9,
        management: 7,
      },
      happiness: 85,
      health: 95,
      age: 35,
      isWorking: true,
      assignedRoom: 'water_1',
    },
    {
      id: 'resident_2',
      name: '李娜医生',
      skills: {
        engineering: 2,
        medical: 9,
        combat: 3,
        exploration: 4,
        research: 6,
        management: 5,
      },
      happiness: 90,
      health: 100,
      age: 28,
      isWorking: true,
      assignedRoom: 'power_1',
    },
    {
      id: 'resident_3',
      name: '王强队长',
      skills: {
        engineering: 6,
        medical: 4,
        combat: 9,
        exploration: 8,
        research: 3,
        management: 8,
      },
      happiness: 80,
      health: 95,
      age: 32,
      isWorking: true,
      assignedRoom: 'farm_1',
    },
  ],
  rooms: [
    {
      id: 'farm_1',
      type: 'farm',
      level: 1,
      workers: ['resident_3'],
      maxWorkers: 3,
      production: {
        resource: 'food',
        rate: 1.0,
      },
      cost: { materials: 50, power: 20 },
      upgradeCost: { materials: 100, components: 10 },
      isBuilding: false,
      buildTime: 0,
      buildProgress: 0,
      buildWorkers: [],
      maxBuildWorkers: 3,
    },
    {
      id: 'water_1',
      type: 'water_plant',
      level: 1,
      workers: ['resident_1'],
      maxWorkers: 2,
      production: {
        resource: 'water',
        rate: 1.2,
      },
      cost: { materials: 40, components: 5 },
      upgradeCost: { materials: 80, components: 15 },
      isBuilding: false,
      buildTime: 0,
      buildProgress: 0,
      buildWorkers: [],
      maxBuildWorkers: 3,
    },
    {
      id: 'power_1',
      type: 'power_station',
      level: 1,
      workers: ['resident_2'],
      maxWorkers: 2,
      production: {
        resource: 'power',
        rate: 2.0,
      },
      cost: { materials: 60, components: 10 },
      upgradeCost: { materials: 120, components: 20 },
      isBuilding: false,
      buildTime: 0,
      buildProgress: 0,
      buildWorkers: [],
      maxBuildWorkers: 3,
    },
    {
      id: 'quarters_1',
      type: 'quarters',
      level: 1,
      workers: [],
      maxWorkers: 0,
      production: {
        resource: 'food',
        rate: 0,
      },
      cost: { materials: 30 },
      upgradeCost: { materials: 60, components: 5 },
      isBuilding: false,
      buildTime: 0,
      buildProgress: 0,
      buildWorkers: [],
      maxBuildWorkers: 3,
    },
    {
      id: 'laboratory_1',
      type: 'laboratory',
      level: 1,
      workers: [],
      maxWorkers: 3,
      production: {
        resource: 'research',
        rate: 1.0,
      },
      cost: { materials: 100, components: 15, chemicals: 10 },
      upgradeCost: { materials: 200, components: 40 },
      isBuilding: false,
      buildTime: 0,
      buildProgress: 0,
      buildWorkers: [],
      maxBuildWorkers: 3,
    },
    {
      id: 'vault_1',
      type: 'vault',
      level: 1,
      workers: [],
      maxWorkers: 2,
      production: {
        resource: 'money',
        rate: 0.5,
      },
      cost: { materials: 150, components: 30, money: 300 },
      upgradeCost: { materials: 300, components: 60 },
      isBuilding: false,
      buildTime: 0,
      buildProgress: 0,
      buildWorkers: [],
      maxBuildWorkers: 3,
    },
  ],
  technologies: [
    {
      id: 'basic_engineering',
      name: '基础工程学',
      description: '解锁高级建筑和设施',
      cost: { research: 50 },
      researchTime: 30,
      requirements: [],
      unlocks: ['quarters', 'workbench', 'medical'],
      effects: [
        { type: 'unlock_room', target: 'quarters', value: 1 },
        { type: 'unlock_room', target: 'workbench', value: 1 },
        { type: 'unlock_room', target: 'medical', value: 1 },
      ],
      isResearched: true,
      isResearching: false,
      progress: 30,
    },
    {
      id: 'advanced_manufacturing',
      name: '高级制造',
      description: '解锁实验室和军械库，提升车间升级上限',
      cost: { research: 100 },
      researchTime: 60,
      requirements: ['basic_engineering'],
      unlocks: ['laboratory', 'armory'],
      effects: [
        { type: 'unlock_room', target: 'laboratory', value: 1 },
        { type: 'unlock_room', target: 'armory', value: 1 },
        { type: 'unlock_upgrade', target: 'workshop', value: 5 },
        { type: 'unlock_upgrade', target: 'laboratory', value: 3 },
      ],
      isResearched: false,
      isResearching: false,
      progress: 0,
    },
    {
      id: 'storage_systems',
      name: '存储系统',
      description: '解锁各种仓库设施',
      cost: { research: 80 },
      researchTime: 45,
      requirements: ['basic_engineering'],
      unlocks: ['warehouse', 'water_tank', 'power_bank'],
      effects: [
        { type: 'unlock_room', target: 'warehouse', value: 1 },
        { type: 'unlock_room', target: 'water_tank', value: 1 },
        { type: 'unlock_room', target: 'power_bank', value: 1 },
      ],
      isResearched: false,
      isResearching: false,
      progress: 0,
    },
    {
      id: 'economics',
      name: '经济学',
      description: '解锁金库和高级经济设施',
      cost: { research: 120 },
      researchTime: 75,
      requirements: ['basic_engineering'],
      unlocks: ['vault'],
      effects: [
        { type: 'unlock_room', target: 'vault', value: 1 },
        { type: 'production_bonus', target: 'money', value: 0.1 },
      ],
      isResearched: false,
      isResearching: false,
      progress: 0,
    },
    {
      id: 'combat_training',
      name: '战斗训练',
      description: '解锁训练设施和战斗相关建筑',
      cost: { research: 70 },
      researchTime: 40,
      requirements: ['basic_engineering'],
      unlocks: ['training_room'],
      effects: [
        { type: 'unlock_room', target: 'training_room', value: 1 },
        { type: 'production_bonus', target: 'training_room', value: 0.2 },
      ],
      isResearched: false,
      isResearching: false,
      progress: 0,
    },
  ],
  unlockedRooms: ['farm', 'water_plant', 'power_station', 'workshop', 'quarters', 'workbench', 'medical', 'basic_laboratory', 'vault'],
  unlockedUpgrades: {
    farm: 1,
    water_plant: 1,
    power_station: 1,
    workshop: 1,
    workbench: 1,
    quarters: 1,
    medical: 1,
    basic_laboratory: 1,
    laboratory: 1,
    armory: 1,
    training_room: 1,
    warehouse: 1,
    water_tank: 1,
    power_bank: 1,
    vault: 1,
  },
  gameTime: 0,
  lastUpdate: Date.now(),
  shelterLevel: 1,
  population: 3,
  maxPopulation: 7,
};